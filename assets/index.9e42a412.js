import{r as m,o as y,c as E,a as f,w as V,b as $,d as T,e as w,F as I,f as O,E as A,g as i,h,m as L,i as P,j as x,k,l as R,n as q,p as N,q as _,s as j,t as F,u as H,v as B,V as D}from"./vendor.7ef8c471.js";const C=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const n of a.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&o(n)}).observe(document,{childList:!0,subtree:!0});function s(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerpolicy&&(a.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?a.credentials="include":r.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(r){if(r.ep)return;r.ep=!0;const a=s(r);fetch(r.href,a)}};C();var M="/varsityplan/assets/30Revision.3c3e64af.svg",b=(t,e)=>{const s=t.__vccOpts||t;for(const[o,r]of e)s[o]=r;return s};const K={},J={class:"container flex flex-col items-center justify-center gap-3 mx-auto sm:flex-row sm:justify-between"},Q=$("img",{src:M,class:"object-cover h-16 mx-auto mt-2",alt:""},null,-1),U=$("a",{href:"https://varsity21.aparsclassroom.com/",class:"btn btn-primary"},"Back to main app",-1);function X(t,e,s,o,r,a){const n=m("router-link");return y(),E("div",J,[f(n,{to:"/",tag:"div"},{default:V(()=>[Q]),_:1}),U])}var W=b(K,[["render",X]]);const Z={setup(){return{}},methods:{},created(){let t=localStorage.getItem("rb85");t!=null&&(t=JSON.parse(t),this.$store.commit("SET_USER",t));let e=localStorage.getItem("path");e&&(localStorage.removeItem("path"),this.$router.replace(e))},components:{Header:W}};function Y(t,e,s,o,r,a){const n=m("Header"),c=m("router-view");return y(),E("div",null,[f(n),f(c)])}var z=b(Z,[["render",Y]]);const G="modulepreload",g={},ee="/varsityplan/",u=function(e,s){return!s||s.length===0?e():Promise.all(s.map(o=>{if(o=`${ee}${o}`,o in g)return;g[o]=!0;const r=o.endsWith(".css"),a=r?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${a}`))return;const n=document.createElement("link");if(n.rel=r?"stylesheet":G,r||(n.as="script",n.crossOrigin=""),n.href=o,document.head.appendChild(n),r)return new Promise((c,d)=>{n.addEventListener("load",c),n.addEventListener("error",d)})})).then(()=>e())},te=[{path:"/",name:"Home",component:()=>u(()=>import("./Home.0df57f66.js"),["assets/Home.0df57f66.js","assets/Home.deed958c.css","assets/Timer.078b7a69.js","assets/vendor.7ef8c471.js"]),meta:{requiresAuth:!0}},{path:"/details/:id",name:"Details",component:()=>u(()=>import("./DetailsPage.010b1a73.js"),["assets/DetailsPage.010b1a73.js","assets/Timer.078b7a69.js","assets/vendor.7ef8c471.js"]),meta:{requiresAuth:!0}},{path:"/login",name:"Login",component:()=>u(()=>import("./Auth.2b242d56.js"),["assets/Auth.2b242d56.js","assets/vendor.7ef8c471.js"])},{path:"/restricted",name:"restricted",component:()=>u(()=>import("./accessrestricted.5139e338.js"),["assets/accessrestricted.5139e338.js","assets/vendor.7ef8c471.js"])}],S=T({history:w("/varsityplan"),routes:te});S.beforeEach((t,e,s)=>{if(!t.matched.some(o=>o.meta.requiresAuth)){s();return}if(localStorage.getItem("vr21")){s();return}s({name:"restricted"})});var re={install(t){t.component("VeeForm",I),t.component("VeeField",O),t.component("ErrorMessage",A),i("required",h),i("tos",h),i("min",L),i("max",P),i("alpha_spaces",x),i("email",k),i("min_value",R),i("max_value",q),i("password_mismatch",N),i("excluded",_),i("country_excluded",_),j({generateMessage:e=>{const s={required:`The field ${e.field} is required.`,min:`The field ${e.field} is too short.`,max:`The field ${e.field} is too long.`,alpha_spaces:`The field ${e.field} may only contain alphabetic characters and spaces.`,email:`The field ${e.field} must contain a valid email address.`,min_value:`The field ${e.field} is too low.`,max_value:`The field ${e.field} is too high.`,excluded:`You are not allowed to use this value for this field ${e.field}`,password_mismatch:"The password don't match.",country_excluded:"Due to restrictions, we do not accept from this country",tos:"You must accept the Terms of Service"};return s[e.rule.name]?s[e.rule.name]:`The field ${e.field} is invalid`},validateOnBlur:!0,vlidateOnChange:!0,validateOnInput:!1,validateOnModelUpdate:!0})}};const v="https://script.google.com/macros/s/AKfycbzp6tlaRsIcQLWycrXfeo-5FmJfbJjsXkIgvgB6yb4kNHbnAVlx03iAHF5ftjlyQbbXXA/exec",ae="https://script.google.com/macros/s/AKfycbx8QP1xA3KjxqoeTPGMHS5E-0nZMn6cdj0BhET6IB_CN7H3eFIv7NkkZPIDkKPZwDvRtQ/exec?type=Combined";var oe=F({state:{user:null,userLoggedIn:!1},mutations:{toggleAuth(t){t.userLoggedIn=!t.userLoggedIn},SET_USER(t,e){t.user=e}},actions:{setOptions({commit:t},e){t("SET_OPTIONS",e.options)},async register({dispatch:t},e){(await(await fetch(v,{method:"POST",body:e.body})).json()).status==200&&(delete e.body,t("login",e))},async login({commit:t},e){const o=await(await fetch(v+"?phone="+e.phone)).json();if(o.user){let[r,a,n,c,d]=o.user,p={phone:r,roll:a,name:n,email:c,college:d};localStorage.setItem("rb85",JSON.stringify(p)),t("SET_USER",p),t("toggleAuth"),e.router.push("/")}else e.router.push("/register?phone="+e.phone)}},getters:{getTheme:t=>t.theme},modules:{}});let l=H(z);l.use(S);l.use(re);l.use(B,{plyr:{}});l.use(D);l.use(oe);l.mount("#app");export{b as _,ae as r};
